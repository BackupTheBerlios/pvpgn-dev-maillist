<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [pvpgn-dev] [Bug #16451] SVN: Server crash upon login on Linux	x86_64 build
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pvpgn-dev/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:pvpgn-dev%40lists.berlios.de?Subject=Re%3A%20%5Bpvpgn-dev%5D%20%5BBug%20%2316451%5D%20SVN%3A%20Server%20crash%20upon%20login%20on%20Linux%0A%09x86_64%20build&In-Reply-To=%3C201001161500.o0GF0dBY012558%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001181.html">
   <LINK REL="Next"  HREF="001183.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[pvpgn-dev] [Bug #16451] SVN: Server crash upon login on Linux	x86_64 build</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:pvpgn-dev%40lists.berlios.de?Subject=Re%3A%20%5Bpvpgn-dev%5D%20%5BBug%20%2316451%5D%20SVN%3A%20Server%20crash%20upon%20login%20on%20Linux%0A%09x86_64%20build&In-Reply-To=%3C201001161500.o0GF0dBY012558%40unicorn.berlios.de%3E"
       TITLE="[pvpgn-dev] [Bug #16451] SVN: Server crash upon login on Linux	x86_64 build">admin at berlios.de
       </A><BR>
    <I>Sat Jan 16 16:00:39 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="001181.html">[pvpgn-dev] [Bug #16451] SVN: Server crash upon login on Linux	x86_64 build
</A></li>
        <LI>Next message: <A HREF="001183.html">[pvpgn-dev] [Patch #2900] extern t_account *	accountlist_find_account
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1182">[ date ]</a>
              <a href="thread.html#1182">[ thread ]</a>
              <a href="subject.html#1182">[ subject ]</a>
              <a href="author.html#1182">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #16451, was updated on 2009-Nov-13 15:45
Here is a current snapshot of the bug.

Project: Player vs Player Gaming Network
Category: General
Status: Open
Resolution: None
Bug Group: bnetd
Priority: 5
Submitted by: theonly
Assigned to : none
Summary: SVN: Server crash upon login on Linux x86_64 build

Details: Branch concerned:
* Stable:				No (tested with PvPGN v1.8.5)
* SVN:				Yes (tested with PvPGN v1.99.0-SVN r563)

Build Environment:
* Operating System:	64-bit Debian GNU/Linux &quot;squeeze&quot;
* Kernel version:		2.6.26 SMP
* CPU:				Dual Core Pentium T2370
* CMake version:		2.6.4
* GCC version:			gcc (Debian 4.3.4-5) 4.3.4
* G++ version:			g++ (Debian 4.3.4-5) 4.3.4
* zlib version:			1.2.3.3.dfsg-15
* libc version:			2.10.1-5
* libstdc++ version:		4.4.1-4

Description:
To check if this bug is not due to a error in the configuration files, a default PvPGN configuration has been used for the purpose of this report.

Log level:
loglevels = fatal,error,warn,info,debug,trace

Whenever a user connects to the server, he/she gets disconnected immediately after logging in, regardless of the client used. Tested with PvPGN's chat client, StarCraft and WarCraft 3.

The same bug also occurs when a user tries to register a new account. The registration procedure goes smoothly up until after an email address has been set for the account and the time has come to log the user in a chat channel (i.e. just after the registration of an account has completed).

However, there is no indication in bnetd.log of anything going wrong.

Follow-Ups:

Date: 2010-Jan-16 17:00
By: saidin

Comment:
<A HREF="http://en.wiktionary.org/wiki/extention">http://en.wiktionary.org/wiki/extention</A>

:<i>)
</I>-------------------------------------------------------

Date: 2010-Jan-16 01:52
By: pelish

Comment:
Also please test last rev. of SVN repository. I have commited some bugfix. Thank you for reporting!
-------------------------------------------------------

Date: 2010-Jan-16 01:09
By: pelish

Comment:
It is possible for you to get an valgrind output for us? How to do that is described in README.DEV appendix.

Thank you
-------------------------------------------------------

Date: 2010-Jan-15 02:40
By: saidin

Comment:
Have you fixed this yet? It's a bug with the motd code (introduced when pelish added multilingual support to motd). If you don't care about i18n, then you can just revert that commit and all will be healthy (that's what I did.. couldn't be bothered to fix it, since we run English-only).
-------------------------------------------------------

Date: 2009-Nov-13 15:51
By: theonly

Comment:
bnetd.log can be found at:
<A HREF="http://www.tardis.ed.ac.uk/~theonly/pvpgn/x86_64-crash/bnetd.log">http://www.tardis.ed.ac.uk/~theonly/pvpgn/x86_64-crash/bnetd.log</A>

The output to the standard output can be found at:
<A HREF="http://www.tardis.ed.ac.uk/~theonly/pvpgn/x86_64-crash/crash.output.txt">http://www.tardis.ed.ac.uk/~theonly/pvpgn/x86_64-crash/crash.output.txt</A>
-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=16451&amp;group_id=2291">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=16451&amp;group_id=2291</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001181.html">[pvpgn-dev] [Bug #16451] SVN: Server crash upon login on Linux	x86_64 build
</A></li>
	<LI>Next message: <A HREF="001183.html">[pvpgn-dev] [Patch #2900] extern t_account *	accountlist_find_account
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1182">[ date ]</a>
              <a href="thread.html#1182">[ thread ]</a>
              <a href="subject.html#1182">[ subject ]</a>
              <a href="author.html#1182">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pvpgn-dev">More information about the pvpgn-dev
mailing list</a><br>
</body></html>
