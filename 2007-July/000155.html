<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [pvpgn-dev] [Bug #11089] User with access to ipban can crash the	server
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pvpgn-dev/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:pvpgn-dev%40lists.berlios.de?Subject=Re%3A%20%5Bpvpgn-dev%5D%20%5BBug%20%2311089%5D%20User%20with%20access%20to%20ipban%20can%20crash%20the%0A%09server&In-Reply-To=%3C200707301605.l6UG5S6E014647%40unicorn.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000153.html">
   <LINK REL="Next"  HREF="000156.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[pvpgn-dev] [Bug #11089] User with access to ipban can crash the	server</H1>
    <B>admin at berlios.de</B> 
    <A HREF="mailto:pvpgn-dev%40lists.berlios.de?Subject=Re%3A%20%5Bpvpgn-dev%5D%20%5BBug%20%2311089%5D%20User%20with%20access%20to%20ipban%20can%20crash%20the%0A%09server&In-Reply-To=%3C200707301605.l6UG5S6E014647%40unicorn.berlios.de%3E"
       TITLE="[pvpgn-dev] [Bug #11089] User with access to ipban can crash the	server">admin at berlios.de
       </A><BR>
    <I>Mon Jul 30 18:05:28 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000153.html">[pvpgn-dev] pvpgn/src/bnetd ipban.c,1.19,1.20
</A></li>
        <LI>Next message: <A HREF="000156.html">[pvpgn-dev] r264 - trunk/pvpgn/src/bnetd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#155">[ date ]</a>
              <a href="thread.html#155">[ thread ]</a>
              <a href="subject.html#155">[ subject ]</a>
              <a href="author.html#155">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bug #11089, was updated on 2007-May-15 21:05
Here is a current snapshot of the bug.

Project: Player vs Player Gaming Network
Category: General
Status: Closed
Resolution: Fixed
Bug Group: bnetd
Priority: 5
Submitted by: rkorolev
Assigned to : pandaemonium
Summary: User with access to ipban can crash the server

Details: Try:
/ipban a 1.2.3.4/24
/ipban d 1.2.3.4

pid 53570 (bnetd), uid 7: exited on signal 11

Tried with 1.8.0-release and 1.8.0-cvs


Follow-Ups:

Date: 2007-Jul-30 18:05
By: pandaemonium

Comment:
issue has been fixed by the patch provided by pelish
-------------------------------------------------------

Date: 2007-Jul-09 14:06
By: pelish

Comment:
I have it tested and 1.99.x have this problem. There is problem in function, that testing baned IP address and deleted IP address, because of non testing when both IPs are the same type (prefix, range, netmask...). So my fix do that.
-------------------------------------------------------

Date: 2007-Jul-08 21:48
By: tp_moonstar

Comment:
just block those IP from Ipban db option.

Version 1.99.0 doesn't have this problem, i suggest you update.
-------------------------------------------------------

Date: 2007-Jul-06 17:24
By: pelish

Comment:
FIXED by <A HREF="http://developer.berlios.de/patch/index.php?func=detailpatch&amp;patch_id=2087&amp;group_id=2291">http://developer.berlios.de/patch/index.php?func=detailpatch&amp;patch_id=2087&amp;group_id=2291</A> patch. This bug contain also 1.99.x breanch.

Also I have found interesting thing that by using /ipban command is deleted all #comments (that also is not so cool I thinnk)
-------------------------------------------------------

For detailed info, follow this link:
<A HREF="http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=11089&amp;group_id=2291">http://developer.berlios.de/bugs/?func=detailbug&amp;bug_id=11089&amp;group_id=2291</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000153.html">[pvpgn-dev] pvpgn/src/bnetd ipban.c,1.19,1.20
</A></li>
	<LI>Next message: <A HREF="000156.html">[pvpgn-dev] r264 - trunk/pvpgn/src/bnetd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#155">[ date ]</a>
              <a href="thread.html#155">[ thread ]</a>
              <a href="subject.html#155">[ subject ]</a>
              <a href="author.html#155">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pvpgn-dev">More information about the pvpgn-dev
mailing list</a><br>
</body></html>
