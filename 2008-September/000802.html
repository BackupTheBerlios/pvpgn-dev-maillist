<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [pvpgn-dev] r498 - in trunk/pvpgn/src: bnetd common
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pvpgn-dev/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:pvpgn-dev%40lists.berlios.de?Subject=Re%3A%20%5Bpvpgn-dev%5D%20r498%20-%20in%20trunk/pvpgn/src%3A%20bnetd%20common&In-Reply-To=%3C200809271958.m8RJwQVG013588%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000801.html">
   <LINK REL="Next"  HREF="000803.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[pvpgn-dev] r498 - in trunk/pvpgn/src: bnetd common</H1>
    <B>svn at svn.berlios.de</B> 
    <A HREF="mailto:pvpgn-dev%40lists.berlios.de?Subject=Re%3A%20%5Bpvpgn-dev%5D%20r498%20-%20in%20trunk/pvpgn/src%3A%20bnetd%20common&In-Reply-To=%3C200809271958.m8RJwQVG013588%40sheep.berlios.de%3E"
       TITLE="[pvpgn-dev] r498 - in trunk/pvpgn/src: bnetd common">svn at svn.berlios.de
       </A><BR>
    <I>Sat Sep 27 21:58:26 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000801.html">[pvpgn-dev] [Bug #14542] CMake doesn't include sql_DBlayout2.conf
</A></li>
        <LI>Next message: <A HREF="000803.html">[pvpgn-dev] [Bug #14571] New clan with no chieftain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#802">[ date ]</a>
              <a href="thread.html#802">[ thread ]</a>
              <a href="subject.html#802">[ subject ]</a>
              <a href="author.html#802">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: pelish
Date: 2008-09-27 21:58:23 +0200 (Sat, 27 Sep 2008)
New Revision: 498

Modified:
   trunk/pvpgn/src/bnetd/handle_wol_gameres.cpp
   trunk/pvpgn/src/bnetd/handle_wol_gameres.h
   trunk/pvpgn/src/bnetd/handle_wserv.cpp
   trunk/pvpgn/src/common/wol_gameres_protocol.h
Log:
another changes in WOL gameres protocol handler - finally found the latest unknown data type, add for many player related tags

Modified: trunk/pvpgn/src/bnetd/handle_wol_gameres.cpp
===================================================================
--- trunk/pvpgn/src/bnetd/handle_wol_gameres.cpp	2008-09-15 20:22:54 UTC (rev 497)
+++ trunk/pvpgn/src/bnetd/handle_wol_gameres.cpp	2008-09-27 19:58:23 UTC (rev 498)
@@ -19,9 +19,9 @@
 #include &quot;common/setup_before.h&quot;
 #include &quot;handle_wol_gameres.h&quot;
 
-#include &lt;cstring&gt;
-#include &lt;cctype&gt;
-#include &lt;cstdlib&gt;
+#include &lt;cmath&gt;
+#include &lt;algorithm&gt;
+
 //#include &lt;sstream&gt;
 //#include &lt;cstring&gt;
 //nclude &lt;cctype&gt;
@@ -34,8 +34,6 @@
 #include &quot;common/bn_type.h&quot;
 
 #include &quot;connection.h&quot;
-//#include &quot;prefs.h&quot;
-//#include &quot;server.h&quot;
 #ifdef WIN32_GUI
 #include &lt;win32/winmain.h&gt;
 #endif
@@ -49,8 +47,12 @@
 
 /* handlers prototypes */
 static int _client_sern(wol_gameres_type type, int size, void const * data);
+static int _client_sdfx(wol_gameres_type type, int size, void const * data);
 static int _client_idno(wol_gameres_type type, int size, void const * data);
 static int _client_gsku(wol_gameres_type type, int size, void const * data);
+static int _client_dcon(wol_gameres_type type, int size, void const * data);
+static int _client_lcon(wol_gameres_type type, int size, void const * data);
+static int _client_type(wol_gameres_type type, int size, void const * data);
 static int _client_trny(wol_gameres_type type, int size, void const * data);
 static int _client_oosy(wol_gameres_type type, int size, void const * data);
 static int _client_fini(wol_gameres_type type, int size, void const * data);
@@ -64,6 +66,7 @@
 static int _client_aipl(wol_gameres_type type, int size, void const * data);
 static int _client_unit(wol_gameres_type type, int size, void const * data);
 static int _client_scen(wol_gameres_type type, int size, void const * data);
+static int _client_cmpl(wol_gameres_type type, int size, void const * data);
 static int _client_pngs(wol_gameres_type type, int size, void const * data);
 static int _client_pngr(wol_gameres_type type, int size, void const * data);
 static int _client_plrs(wol_gameres_type type, int size, void const * data);
@@ -131,6 +134,7 @@
 static int _client_nam5(wol_gameres_type type, int size, void const * data);
 static int _client_nam6(wol_gameres_type type, int size, void const * data);
 static int _client_nam7(wol_gameres_type type, int size, void const * data);
+
 static int _client_cmp0(wol_gameres_type type, int size, void const * data);
 static int _client_cmp1(wol_gameres_type type, int size, void const * data);
 static int _client_cmp2(wol_gameres_type type, int size, void const * data);
@@ -140,6 +144,132 @@
 static int _client_cmp6(wol_gameres_type type, int size, void const * data);
 static int _client_cmp7(wol_gameres_type type, int size, void const * data);
 
+static int _client_col0(wol_gameres_type type, int size, void const * data);
+static int _client_col1(wol_gameres_type type, int size, void const * data);
+static int _client_col2(wol_gameres_type type, int size, void const * data);
+static int _client_col3(wol_gameres_type type, int size, void const * data);
+static int _client_col4(wol_gameres_type type, int size, void const * data);
+static int _client_col5(wol_gameres_type type, int size, void const * data);
+static int _client_col6(wol_gameres_type type, int size, void const * data);
+static int _client_col7(wol_gameres_type type, int size, void const * data);
+
+static int _client_inb0(wol_gameres_type type, int size, void const * data);
+static int _client_inb1(wol_gameres_type type, int size, void const * data);
+static int _client_inb2(wol_gameres_type type, int size, void const * data);
+static int _client_inb3(wol_gameres_type type, int size, void const * data);
+static int _client_inb4(wol_gameres_type type, int size, void const * data);
+static int _client_inb5(wol_gameres_type type, int size, void const * data);
+static int _client_inb6(wol_gameres_type type, int size, void const * data);
+static int _client_inb7(wol_gameres_type type, int size, void const * data);
+
+static int _client_unb0(wol_gameres_type type, int size, void const * data);
+static int _client_unb1(wol_gameres_type type, int size, void const * data);
+static int _client_unb2(wol_gameres_type type, int size, void const * data);
+static int _client_unb3(wol_gameres_type type, int size, void const * data);
+static int _client_unb4(wol_gameres_type type, int size, void const * data);
+static int _client_unb5(wol_gameres_type type, int size, void const * data);
+static int _client_unb6(wol_gameres_type type, int size, void const * data);
+static int _client_unb7(wol_gameres_type type, int size, void const * data);
+
+static int _client_plb0(wol_gameres_type type, int size, void const * data);
+static int _client_plb1(wol_gameres_type type, int size, void const * data);
+static int _client_plb2(wol_gameres_type type, int size, void const * data);
+static int _client_plb3(wol_gameres_type type, int size, void const * data);
+static int _client_plb4(wol_gameres_type type, int size, void const * data);
+static int _client_plb5(wol_gameres_type type, int size, void const * data);
+static int _client_plb6(wol_gameres_type type, int size, void const * data);
+static int _client_plb7(wol_gameres_type type, int size, void const * data);
+
+static int _client_blb0(wol_gameres_type type, int size, void const * data);
+static int _client_blb1(wol_gameres_type type, int size, void const * data);
+static int _client_blb2(wol_gameres_type type, int size, void const * data);
+static int _client_blb3(wol_gameres_type type, int size, void const * data);
+static int _client_blb4(wol_gameres_type type, int size, void const * data);
+static int _client_blb5(wol_gameres_type type, int size, void const * data);
+static int _client_blb6(wol_gameres_type type, int size, void const * data);
+static int _client_blb7(wol_gameres_type type, int size, void const * data);
+
+static int _client_inl0(wol_gameres_type type, int size, void const * data);
+static int _client_inl1(wol_gameres_type type, int size, void const * data);
+static int _client_inl2(wol_gameres_type type, int size, void const * data);
+static int _client_inl3(wol_gameres_type type, int size, void const * data);
+static int _client_inl4(wol_gameres_type type, int size, void const * data);
+static int _client_inl5(wol_gameres_type type, int size, void const * data);
+static int _client_inl6(wol_gameres_type type, int size, void const * data);
+static int _client_inl7(wol_gameres_type type, int size, void const * data);
+
+static int _client_unl0(wol_gameres_type type, int size, void const * data);
+static int _client_unl1(wol_gameres_type type, int size, void const * data);
+static int _client_unl2(wol_gameres_type type, int size, void const * data);
+static int _client_unl3(wol_gameres_type type, int size, void const * data);
+static int _client_unl4(wol_gameres_type type, int size, void const * data);
+static int _client_unl5(wol_gameres_type type, int size, void const * data);
+static int _client_unl6(wol_gameres_type type, int size, void const * data);
+static int _client_unl7(wol_gameres_type type, int size, void const * data);
+
+static int _client_pll0(wol_gameres_type type, int size, void const * data);
+static int _client_pll1(wol_gameres_type type, int size, void const * data);
+static int _client_pll2(wol_gameres_type type, int size, void const * data);
+static int _client_pll3(wol_gameres_type type, int size, void const * data);
+static int _client_pll4(wol_gameres_type type, int size, void const * data);
+static int _client_pll5(wol_gameres_type type, int size, void const * data);
+static int _client_pll6(wol_gameres_type type, int size, void const * data);
+static int _client_pll7(wol_gameres_type type, int size, void const * data);
+
+static int _client_bll0(wol_gameres_type type, int size, void const * data);
+static int _client_bll1(wol_gameres_type type, int size, void const * data);
+static int _client_bll2(wol_gameres_type type, int size, void const * data);
+static int _client_bll3(wol_gameres_type type, int size, void const * data);
+static int _client_bll4(wol_gameres_type type, int size, void const * data);
+static int _client_bll5(wol_gameres_type type, int size, void const * data);
+static int _client_bll6(wol_gameres_type type, int size, void const * data);
+static int _client_bll7(wol_gameres_type type, int size, void const * data);
+
+static int _client_ink0(wol_gameres_type type, int size, void const * data);
+static int _client_ink1(wol_gameres_type type, int size, void const * data);
+static int _client_ink2(wol_gameres_type type, int size, void const * data);
+static int _client_ink3(wol_gameres_type type, int size, void const * data);
+static int _client_ink4(wol_gameres_type type, int size, void const * data);
+static int _client_ink5(wol_gameres_type type, int size, void const * data);
+static int _client_ink6(wol_gameres_type type, int size, void const * data);
+static int _client_ink7(wol_gameres_type type, int size, void const * data);
+
+static int _client_unk0(wol_gameres_type type, int size, void const * data);
+static int _client_unk1(wol_gameres_type type, int size, void const * data);
+static int _client_unk2(wol_gameres_type type, int size, void const * data);
+static int _client_unk3(wol_gameres_type type, int size, void const * data);
+static int _client_unk4(wol_gameres_type type, int size, void const * data);
+static int _client_unk5(wol_gameres_type type, int size, void const * data);
+static int _client_unk6(wol_gameres_type type, int size, void const * data);
+static int _client_unk7(wol_gameres_type type, int size, void const * data);
+
+static int _client_plk0(wol_gameres_type type, int size, void const * data);
+static int _client_plk1(wol_gameres_type type, int size, void const * data);
+static int _client_plk2(wol_gameres_type type, int size, void const * data);
+static int _client_plk3(wol_gameres_type type, int size, void const * data);
+static int _client_plk4(wol_gameres_type type, int size, void const * data);
+static int _client_plk5(wol_gameres_type type, int size, void const * data);
+static int _client_plk6(wol_gameres_type type, int size, void const * data);
+static int _client_plk7(wol_gameres_type type, int size, void const * data);
+
+static int _client_blk0(wol_gameres_type type, int size, void const * data);
+static int _client_blk1(wol_gameres_type type, int size, void const * data);
+static int _client_blk2(wol_gameres_type type, int size, void const * data);
+static int _client_blk3(wol_gameres_type type, int size, void const * data);
+static int _client_blk4(wol_gameres_type type, int size, void const * data);
+static int _client_blk5(wol_gameres_type type, int size, void const * data);
+static int _client_blk6(wol_gameres_type type, int size, void const * data);
+static int _client_blk7(wol_gameres_type type, int size, void const * data);
+
+static int _client_blc0(wol_gameres_type type, int size, void const * data);
+static int _client_blc1(wol_gameres_type type, int size, void const * data);
+static int _client_blc2(wol_gameres_type type, int size, void const * data);
+static int _client_blc3(wol_gameres_type type, int size, void const * data);
+static int _client_blc4(wol_gameres_type type, int size, void const * data);
+static int _client_blc5(wol_gameres_type type, int size, void const * data);
+static int _client_blc6(wol_gameres_type type, int size, void const * data);
+static int _client_blc7(wol_gameres_type type, int size, void const * data);
+
 typedef int (* t_wol_gamerestag)(wol_gameres_type type, int size, void const * data);
 
 typedef struct {
@@ -150,8 +280,12 @@
 /* handler table */
 static const t_wol_gamerestag_table_row wol_gamreres_htable[] = {
     {CLIENT_SERN_UINT, _client_sern},
+    {CLIENT_SDFX_UINT, _client_sdfx},
     {CLIENT_IDNO_UINT, _client_idno},
     {CLIENT_GSKU_UINT, _client_gsku},
+    {CLIENT_DCON_UINT, _client_dcon},
+    {CLIENT_LCON_UINT, _client_lcon},
+    {CLIENT_TYPE_UINT, _client_type},
     {CLIENT_TRNY_UINT, _client_trny},
     {CLIENT_OOSY_UINT, _client_oosy},
     {CLIENT_FINI_UINT, _client_fini},
@@ -165,6 +299,7 @@
     {CLIENT_AIPL_UINT, _client_aipl},
     {CLIENT_UNIT_UINT, _client_unit},
     {CLIENT_SCEN_UINT, _client_scen},
+    {CLIENT_CMPL_UINT, _client_cmpl},
     {CLIENT_PNGS_UINT, _client_pngs},
     {CLIENT_PNGR_UINT, _client_pngr},
     {CLIENT_PLRS_UINT, _client_plrs},
@@ -232,6 +367,7 @@
     {CLIENT_NAM5_UINT, _client_nam5},
     {CLIENT_NAM6_UINT, _client_nam6},
     {CLIENT_NAM7_UINT, _client_nam7},
+
     {CLIENT_CMP0_UINT, _client_cmp0},
     {CLIENT_CMP1_UINT, _client_cmp1},
     {CLIENT_CMP2_UINT, _client_cmp2},
@@ -240,7 +376,133 @@
     {CLIENT_CMP5_UINT, _client_cmp5},
     {CLIENT_CMP6_UINT, _client_cmp6},
     {CLIENT_CMP7_UINT, _client_cmp7},
+    
+    {CLIENT_COL0_UINT, _client_col0},
+    {CLIENT_COL1_UINT, _client_col1},
+    {CLIENT_COL2_UINT, _client_col2},
+    {CLIENT_COL3_UINT, _client_col3},
+    {CLIENT_COL4_UINT, _client_col4},
+    {CLIENT_COL5_UINT, _client_col5},
+    {CLIENT_COL6_UINT, _client_col6},
+    {CLIENT_COL7_UINT, _client_col7},
 
+    {CLIENT_INB0_UINT, _client_inb0},
+    {CLIENT_INB1_UINT, _client_inb1},
+    {CLIENT_INB2_UINT, _client_inb2},
+    {CLIENT_INB3_UINT, _client_inb3},
+    {CLIENT_INB4_UINT, _client_inb4},
+    {CLIENT_INB5_UINT, _client_inb5},
+    {CLIENT_INB6_UINT, _client_inb6},
+    {CLIENT_INB7_UINT, _client_inb7},
+
+    {CLIENT_UNB0_UINT, _client_unb0},
+    {CLIENT_UNB1_UINT, _client_unb1},
+    {CLIENT_UNB2_UINT, _client_unb2},
+    {CLIENT_UNB3_UINT, _client_unb3},
+    {CLIENT_UNB4_UINT, _client_unb4},
+    {CLIENT_UNB5_UINT, _client_unb5},
+    {CLIENT_UNB6_UINT, _client_unb6},
+    {CLIENT_UNB7_UINT, _client_unb7},
+
+    {CLIENT_PLB0_UINT, _client_plb0},
+    {CLIENT_PLB1_UINT, _client_plb1},
+    {CLIENT_PLB2_UINT, _client_plb2},
+    {CLIENT_PLB3_UINT, _client_plb3},
+    {CLIENT_PLB4_UINT, _client_plb4},
+    {CLIENT_PLB5_UINT, _client_plb5},
+    {CLIENT_PLB6_UINT, _client_plb6},
+    {CLIENT_PLB7_UINT, _client_plb7},
+
+    {CLIENT_BLB0_UINT, _client_blb0},
+    {CLIENT_BLB1_UINT, _client_blb1},
+    {CLIENT_BLB2_UINT, _client_blb2},
+    {CLIENT_BLB3_UINT, _client_blb3},
+    {CLIENT_BLB4_UINT, _client_blb4},
+    {CLIENT_BLB5_UINT, _client_blb5},
+    {CLIENT_BLB6_UINT, _client_blb6},
+    {CLIENT_BLB7_UINT, _client_blb7},
+
+    {CLIENT_INL0_UINT, _client_inl0},
+    {CLIENT_INL1_UINT, _client_inl1},
+    {CLIENT_INL2_UINT, _client_inl2},
+    {CLIENT_INL3_UINT, _client_inl3},
+    {CLIENT_INL4_UINT, _client_inl4},
+    {CLIENT_INL5_UINT, _client_inl5},
+    {CLIENT_INL6_UINT, _client_inl6},
+    {CLIENT_INL7_UINT, _client_inl7},
+
+    {CLIENT_UNL0_UINT, _client_unl0},
+    {CLIENT_UNL1_UINT, _client_unl1},
+    {CLIENT_UNL2_UINT, _client_unl2},
+    {CLIENT_UNL3_UINT, _client_unl3},
+    {CLIENT_UNL4_UINT, _client_unl4},
+    {CLIENT_UNL5_UINT, _client_unl5},
+    {CLIENT_UNL6_UINT, _client_unl6},
+    {CLIENT_UNL7_UINT, _client_unl7},
+
+    {CLIENT_PLL0_UINT, _client_pll0},
+    {CLIENT_PLL1_UINT, _client_pll1},
+    {CLIENT_PLL2_UINT, _client_pll2},
+    {CLIENT_PLL3_UINT, _client_pll3},
+    {CLIENT_PLL4_UINT, _client_pll4},
+    {CLIENT_PLL5_UINT, _client_pll5},
+    {CLIENT_PLL6_UINT, _client_pll6},
+    {CLIENT_PLL7_UINT, _client_pll7},
+
+    {CLIENT_BLL0_UINT, _client_bll0},
+    {CLIENT_BLL1_UINT, _client_bll1},
+    {CLIENT_BLL2_UINT, _client_bll2},
+    {CLIENT_BLL3_UINT, _client_bll3},
+    {CLIENT_BLL4_UINT, _client_bll4},
+    {CLIENT_BLL5_UINT, _client_bll5},
+    {CLIENT_BLL6_UINT, _client_bll6},
+    {CLIENT_BLL7_UINT, _client_bll7},
+
+    {CLIENT_INK0_UINT, _client_ink0},
+    {CLIENT_INK1_UINT, _client_ink1},
+    {CLIENT_INK2_UINT, _client_ink2},
+    {CLIENT_INK3_UINT, _client_ink3},
+    {CLIENT_INK4_UINT, _client_ink4},
+    {CLIENT_INK5_UINT, _client_ink5},
+    {CLIENT_INK6_UINT, _client_ink6},
+    {CLIENT_INK7_UINT, _client_ink7},
+
+    {CLIENT_UNK0_UINT, _client_unk0},
+    {CLIENT_UNK1_UINT, _client_unk1},
+    {CLIENT_UNK2_UINT, _client_unk2},
+    {CLIENT_UNK3_UINT, _client_unk3},
+    {CLIENT_UNK4_UINT, _client_unk4},
+    {CLIENT_UNK5_UINT, _client_unk5},
+    {CLIENT_UNK6_UINT, _client_unk6},
+    {CLIENT_UNK7_UINT, _client_unk7},
+
+    {CLIENT_PLK0_UINT, _client_plk0},
+    {CLIENT_PLK1_UINT, _client_plk1},
+    {CLIENT_PLK2_UINT, _client_plk2},
+    {CLIENT_PLK3_UINT, _client_plk3},
+    {CLIENT_PLK4_UINT, _client_plk4},
+    {CLIENT_PLK5_UINT, _client_plk5},
+    {CLIENT_PLK6_UINT, _client_plk6},
+    {CLIENT_PLK7_UINT, _client_plk7},
+
+    {CLIENT_BLK0_UINT, _client_blk0},
+    {CLIENT_BLK1_UINT, _client_blk1},
+    {CLIENT_BLK2_UINT, _client_blk2},
+    {CLIENT_BLK3_UINT, _client_blk3},
+    {CLIENT_BLK4_UINT, _client_blk4},
+    {CLIENT_BLK5_UINT, _client_blk5},
+    {CLIENT_BLK6_UINT, _client_blk6},
+    {CLIENT_BLK7_UINT, _client_blk7},
+
+    {CLIENT_BLC0_UINT, _client_blc0},
+    {CLIENT_BLC1_UINT, _client_blc1},
+    {CLIENT_BLC2_UINT, _client_blc2},
+    {CLIENT_BLC3_UINT, _client_blc3},
+    {CLIENT_BLC4_UINT, _client_blc4},
+    {CLIENT_BLC5_UINT, _client_blc5},
+    {CLIENT_BLC6_UINT, _client_blc6},
+    {CLIENT_BLC7_UINT, _client_blc7},
+
     {1, NULL}
 };
 
@@ -260,22 +522,55 @@
 static wol_gameres_type wol_gameres_type_from_int(int type)
 {
     switch (type) {
-        case 1:
+        case DATA_TYPE_BYTE:
             return wol_gameres_type_byte;
-        case 2:
+        case DATA_TYPE_BOOL:
             return wol_gameres_type_bool;
-        case 5:
+        case DATA_TYPE_TIME:
             return wol_gameres_type_time;
-        case 6:
+        case DATA_TYPE_INT:
             return wol_gameres_type_int;
-        case 7:
+        case DATA_TYPE_STRING:
             return wol_gameres_type_string;
+        case DATA_TYPE_BIGINT:
+            return wol_gameres_type_bigint;
         default:
             WARN1(&quot;type %d is not defined&quot;,type);
             return wol_gameres_type_unknown;
     }
 }
 
+static unsigned long wol_gameres_get_long_from_data(int size, const void * data)
+{
+    unsigned int temp = 0;
+    const char * chdata;
+    int i = 0;
+
+    if (!data) {
+        ERROR0 (&quot;got NULL data&quot;);
+        return 0;
+    }
+
+    if (size &lt; 4)
+        return 0;
+
+    chdata = (const char*) data;
+
+    while (i &lt; size) {
+        temp = temp + (unsigned int) bn_int_nget(*((bn_int *)chdata));
+        i += 4;
+        if (i &lt; size) {
+            *chdata ++;
+            *chdata ++;
+            *chdata ++;
+            *chdata ++;
+        }
+    }
+
+    return temp;
+}
+
+
 extern int handle_wol_gameres_packet(t_connection * c, t_packet const * const packet)
 {
     unsigned offset;
@@ -306,19 +601,28 @@
         type = wol_gameres_type_from_int(datatype);
 
         if (handle_wolgameres_tag(wgtag, type, datalen, data) != 0) {
-            char ch_data[255];
+            char ch_data[255]; /* FIXME: this is not so good */
             tag_uint_to_str(wgtag_str, wgtag);
-            if ((type == wol_gameres_type_bool) || (type == wol_gameres_type_byte)) {
-                snprintf (ch_data, sizeof(ch_data),&quot;%u&quot;, (unsigned int) bn_byte_get(*((bn_byte *)data)));
+
+            switch (type) {
+                case wol_gameres_type_bool:
+                case wol_gameres_type_byte:
+                    snprintf (ch_data, sizeof(ch_data), &quot;%u&quot;, (unsigned int) bn_byte_get(*((bn_byte *)data)));
+                    break;
+                case wol_gameres_type_int:
+                case wol_gameres_type_time:
+                    snprintf (ch_data, sizeof(ch_data), &quot;%u&quot;, (unsigned int) bn_int_nget(*((bn_int *)data)));
+                    break;
+                case wol_gameres_type_string:
+                    snprintf (ch_data, sizeof(ch_data), &quot;%s&quot;, data);
+                    break;
+                case wol_gameres_type_bigint:
+                    snprintf (ch_data, sizeof(ch_data), &quot;%u&quot;, wol_gameres_get_long_from_data(datalen, data));
+                    break;
+                default:
+                    snprintf (ch_data, sizeof(ch_data), &quot;unknown&quot;);
+                    break;
             }
-            else if ((type == wol_gameres_type_int) || (type == wol_gameres_type_time)){
-                snprintf (ch_data, sizeof(ch_data),&quot;%u&quot;, (unsigned int) bn_int_nget(*((bn_int *)data)));
-            }
-            else if (type == wol_gameres_type_string){
-                snprintf (ch_data, sizeof(ch_data),&quot;%s&quot;, data);
-            }
-            else
-                snprintf (ch_data, sizeof(ch_data),&quot;unknown&quot;);
             eventlog(eventlog_level_warn, __FUNCTION__, &quot;[%d] got unknown WOL Gameres tag: %s, data type %u, data lent %u, data %s&quot;,conn_get_socket(c), wgtag_str, datatype, datalen, ch_data);
 
         }
@@ -341,50 +645,131 @@
     return 0;
 }
 
-static int _client_idno(wol_gameres_type type, int size, void const * data)
+static int _client_sdfx(wol_gameres_type type, int size, void const * data)
 {
-    int gameidnumber;
+    int sdfx;
 
-    if (type == wol_gameres_type_int) {
-        gameidnumber = (unsigned int) bn_int_nget(*((bn_int *)data));
-        DEBUG1(&quot;Game ID Number: %u&quot;, gameidnumber);
+    switch (type) {
+        case wol_gameres_type_bool:
+            sdfx = (unsigned int) bn_byte_get(*((bn_byte *)data));
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for SDFX&quot;, type);
+            break;
     }
+
+    if (sdfx)
+        DEBUG0(&quot;SDFX == true&quot;);
     else
-        WARN1(&quot;got unknown gameres type %u for IDNO&quot;, type);
+        DEBUG0(&quot;SDFX == false&quot;);
 
     return 0;
 }
 
+static int _client_idno(wol_gameres_type type, int size, void const * data)
+{
+    unsigned int gameidnumber;
+
+    switch (type) {
+        case wol_gameres_type_int:
+            gameidnumber = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;Game ID Number: %u&quot;, gameidnumber);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for IDNO&quot;, type);
+            break;
+    }
+
+    return 0;
+}
+
 static int _client_gsku(wol_gameres_type type, int size, void const * data)
 {
-    int sku;
+    unsigned int sku;
 
-    if (type == wol_gameres_type_int) {
-        sku = (unsigned int) bn_int_nget(*((bn_int *)data));
-        DEBUG1(&quot;Got WOL game resolution of %s&quot;, clienttag_get_title(tag_sku_to_uint(sku)));
+    switch (type) {
+        case wol_gameres_type_int:
+            sku = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;Got WOL game resolution of %s&quot;, clienttag_get_title(tag_sku_to_uint(sku)));
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for GSKU&quot;, type);
+            break;
     }
-    else
-        WARN1(&quot;got unknown gameres type %u for GSKU&quot;, type);
 
     return 0;
 }
 
+static int _client_dcon(wol_gameres_type type, int size, void const * data)
+{
+    unsigned int dcon;
+
+    switch (type) {
+        case wol_gameres_type_int:
+            dcon = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;DCON is: %u&quot;, dcon);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for DCON&quot;, type);
+            break;
+    }
+
+    return 0;
+}
+
+static int _client_lcon(wol_gameres_type type, int size, void const * data)
+{
+    unsigned int lcon;
+
+    switch (type) {
+        case wol_gameres_type_int:
+            lcon = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;LCON is: %u&quot;, lcon);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for LCON&quot;, type);
+            break;
+    }
+
+    return 0;
+}
+
+static int _client_type(wol_gameres_type type, int size, void const * data)
+{
+    int gametype;
+
+    switch (type) {
+        case wol_gameres_type_bool:
+            gametype = (unsigned int) bn_byte_get(*((bn_byte *)data));
+            DEBUG1(&quot;TYPE is: %u&quot;, gametype);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for TYPE&quot;, type);
+            break;
+    }
+
+    return 0;
+}
+
 static int _client_trny(wol_gameres_type type, int size, void const * data)
 {
-    int tournament;
+    bool tournament;
 
     switch (type) {
+        case wol_gameres_type_bool:
+            tournament = (bool) bn_byte_get(*((bn_byte *)data));
+            break;
         case wol_gameres_type_int:
-            tournament = (unsigned int) bn_int_nget(*((bn_int *)data));
+            tournament = (bool) bn_int_nget(*((bn_int *)data));
             break;
         case wol_gameres_type_string:
             if (std::strcmp(&quot;TY  &quot;, (const char *) data) == 0) /* for RNGD */
-                tournament = 1;
+                tournament = true;
             else if (std::strcmp(&quot;TN  &quot;, (const char *) data) == 0) /* for RNGD */
-                tournament = 0; 
+                tournament = false; 
             else {
-                WARN1(&quot;got unknown string for TRNY: %s&quot;,data);
-                tournament = 0;
+                WARN1(&quot;got unknown string for TRNY: %s&quot;, data);
+                tournament = false;
             }
             break;
         default:
@@ -402,7 +787,22 @@
 
 static int _client_oosy(wol_gameres_type type, int size, void const * data)
 {
-    /* Not implemented yet */
+    bool outofsync;
+
+    switch (type) {
+        case wol_gameres_type_bool:
+            outofsync = (bool) bn_byte_get(*((bn_byte *)data));
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for OOSY&quot;, type);
+            break;
+    }
+
+    if (outofsync)
+        DEBUG0(&quot;Game has Out of Sync YES&quot;);
+    else
+        DEBUG0(&quot;Game has Out of Sync NO&quot;);
+
     return 0;
 }
 
@@ -421,14 +821,16 @@
     // DURA 00 06 00 04 [00 00 01 F4]
     // DURA 00 06 00 04 [00 00 00 06]
 
-    if (type == wol_gameres_type_int) {
-        duration = (unsigned int) bn_int_nget(*((bn_int *)data));
-        DEBUG1(&quot;Game duration %u seconds&quot;, duration);
+    switch (type) {
+        case wol_gameres_type_int:
+            duration = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;Game duration %u seconds&quot;, duration);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for DURA&quot;, type);
+            break;
     }
-    else
-        WARN1(&quot;got unknown gameres type %u for DURA&quot;, type);
 
-
     return 0;
 }
 
@@ -436,12 +838,15 @@
 {
     unsigned int credits;
 
-    if (type == wol_gameres_type_int) {
-        credits = (unsigned int) bn_int_nget(*((bn_int *)data));
-        DEBUG1(&quot;Game was start with %u credits&quot;, credits);
+    switch (type) {
+        case wol_gameres_type_int:
+            credits = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;Game was start with %u credits&quot;, credits);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for CRED&quot;, type);
+            break;
     }
-    else
-        WARN1(&quot;got unknown gameres type %u for CRED&quot;, type);
 
     return 0;
 }
@@ -450,16 +855,17 @@
 {
     bool shortgame;
 
-    if (type == wol_gameres_type_bool) {
-        shortgame = (bool) bn_byte_get(*((bn_byte *)data));
+    switch (type) {
+        case wol_gameres_type_bool:
+            shortgame = (bool) bn_byte_get(*((bn_byte *)data));
+            break;
+        case wol_gameres_type_int:
+            shortgame = (bool) bn_int_nget(*((bn_int *)data));
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for SHRT&quot;, type);
+            break;
     }
-    else if (type == wol_gameres_type_int) {
-        shortgame = (bool) bn_int_nget(*((bn_int *)data));
-    }
-    else {
-        WARN1(&quot;got unknown gameres type %u for SHRT&quot;, type);
-        return 0;
-    }
 
     if (shortgame)
         DEBUG0(&quot;Game has shortgame ON&quot;);
@@ -473,16 +879,17 @@
 {
     bool superweapons;
 
-    if (type == wol_gameres_type_bool) {
-        superweapons = (bool) bn_byte_get(*((bn_byte *)data));
+    switch (type) {
+        case wol_gameres_type_bool:
+            superweapons = (bool) bn_byte_get(*((bn_byte *)data));
+            break;
+        case wol_gameres_type_int:
+            superweapons = (bool) bn_int_nget(*((bn_int *)data));
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for SUPR&quot;, type);
+            break;
     }
-    else if (type == wol_gameres_type_int) {
-        superweapons = (bool) bn_int_nget(*((bn_int *)data));
-    }
-    else {
-        WARN1(&quot;got unknown gameres type %u for SUPR&quot;, type);
-        return 0;
-    }
 
     if (superweapons)
         DEBUG0(&quot;Game has superweapons ON&quot;);
@@ -518,16 +925,27 @@
 {
     bool crates;
 
-    if (type == wol_gameres_type_bool) {
-        crates = (bool) bn_byte_get(*((bn_byte *)data));
+    switch (type) {
+        case wol_gameres_type_bool:
+            crates = (bool) bn_byte_get(*((bn_byte *)data));
+            break;
+        case wol_gameres_type_int:
+            crates = (bool) bn_int_nget(*((bn_int *)data));
+            break;
+        case wol_gameres_type_string:
+            if (std::strcmp(&quot;ON&quot;, (const char *) data) == 0)
+                crates = true;
+            else if (std::strcmp(&quot;OFF&quot;, (const char *) data) == 0)
+                crates = false; 
+            else {
+                WARN1(&quot;got unknown string for CRAT: %s&quot;, data);
+                crates = false;
+            }
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for CRAT&quot;, type);
+            break;
     }
-    else if (type == wol_gameres_type_int) {
-        crates = (bool) bn_int_nget(*((bn_int *)data));
-    }
-    else {
-        WARN1(&quot;got unknown gameres type %u for CRAT&quot;, type);
-        return 0;
-    }
 
     if (crates)
         DEBUG0(&quot;Game has crates ON&quot;);
@@ -555,7 +973,7 @@
 
 static int _client_unit(wol_gameres_type type, int size, void const * data)
 {
-    int units;
+    unsigned int units;
 
     if (type == wol_gameres_type_int) {
         units = (unsigned int) bn_int_nget(*((bn_int *)data));
@@ -578,15 +996,52 @@
     return 0;
 }
 
+static int _client_cmpl(wol_gameres_type type, int size, void const * data)
+{
+    int cmpl;
+      
+    switch (type) {
+        case wol_gameres_type_byte:
+            cmpl = (unsigned int) bn_byte_get(*((bn_byte *)data));
+            DEBUG1(&quot;CMPL is: %u&quot;, cmpl);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for CMPL&quot;, type);
+            break;
+    }
+
+    return 0;
+}
+
 static int _client_pngs(wol_gameres_type type, int size, void const * data)
 {
-    /* Not implemented yet */
+    unsigned int pngs;
+
+    switch (type) {
+        case wol_gameres_type_int:
+            pngs = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;PNGS %u &quot;, pngs);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for PNGS&quot;, type);
+            break;
+    }
     return 0;
 }
 
 static int _client_pngr(wol_gameres_type type, int size, void const * data)
 {
-    /* Not implemented yet */
+    unsigned int pngr;
+
+    switch (type) {
+        case wol_gameres_type_int:
+            pngr = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;PNGR %u &quot;, pngr);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for PNGR&quot;, type);
+            break;
+    }
     return 0;
 }
 
@@ -606,7 +1061,17 @@
 
 static int _client_spid(wol_gameres_type type, int size, void const * data)
 {
-    /* Not implemented yet */
+    unsigned int spid;
+
+    switch (type) {
+        case wol_gameres_type_int:
+            spid = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;SPID %u &quot;, spid);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for SPID&quot;, type);
+            break;
+    }
     return 0;
 }
 
@@ -632,7 +1097,17 @@
 
 static int _client_afps(wol_gameres_type type, int size, void const * data)
 {
-    /* Not implemented yet */
+    unsigned int afps;
+
+    switch (type) {
+        case wol_gameres_type_int:
+            afps = (unsigned int) bn_int_nget(*((bn_int *)data));
+            DEBUG1(&quot;Average Frames per Second %u &quot;, afps);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for AFPS&quot;, type);
+            break;
+    }
     return 0;
 }
 
@@ -643,7 +1118,7 @@
             DEBUG1(&quot;Procesor %s&quot;, data);
             break;
         default:
-            WARN1(&quot;got unknown gameres type %u for SCEN&quot;, type);
+            WARN1(&quot;got unknown gameres type %u for PROC&quot;, type);
             break;
     }
     return 0;
@@ -701,11 +1176,16 @@
 
 static int _client_date(wol_gameres_type type, int size, void const * data)
 {
-    if (type == wol_gameres_type_string) {
-        DEBUG1(&quot;Date %s&quot;,data);
+    //WOLv1: DATE 00 14 00 08  52 11 ea 00  01 c5 cd a9
+
+    switch (type) {
+        case wol_gameres_type_string:
+            DEBUG1(&quot;Date %s&quot;,data);
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for DATE&quot;, type);
+            break;
     }
-    else
-        WARN1(&quot;got unknown gameres type %u for DATE&quot;, type);
     return 0;
 }
 
@@ -715,18 +1195,29 @@
 
     //WOLv1 BASE 00 07 00 03 ON
 
-    if (type == wol_gameres_type_bool) {
-        bases = (bool) bn_byte_get(*((bn_byte *)data));
-        if (bases)
-            DEBUG0(&quot;Game has bases ON&quot;);
-        else
-            DEBUG0(&quot;Game has bases OFF&quot;);
+    switch (type) {
+        case wol_gameres_type_bool:
+            bases = (bool) bn_byte_get(*((bn_byte *)data));
+            break;
+        case wol_gameres_type_string:
+            if (std::strcmp(&quot;ON&quot;, (const char *) data) == 0)
+                bases = true;
+            else if (std::strcmp(&quot;OFF&quot;, (const char *) data) == 0)
+                bases = false; 
+            else {
+                WARN1(&quot;got unknown string for BASE: %s&quot;, data);
+                bases = false;
+            }
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for BASE&quot;, type);
+            break;
     }
-    else if (type == wol_gameres_type_string) {
-        DEBUG1(&quot;Game has bases %s&quot;, data);
-    }
+
+    if (bases)
+        DEBUG0(&quot;Game has bases ON&quot;);
     else
-        WARN1(&quot;got unknown gameres type %u for BASE&quot;, type);
+        DEBUG0(&quot;Game has bases OFF&quot;);
 
     return 0;
 }
@@ -755,18 +1246,33 @@
 {
     //SHAD 00 02 00 01 [00 FF FF FF]
     //SHAD 00 02 00 01 [00 00 00 00]
-    
+    //SHAD 00 07 00 04 [OFF 00]
+   
     bool shadows;
 
-    if (type == wol_gameres_type_bool) {
-        shadows = (bool) bn_byte_get(*((bn_byte *)data));
-        if (shadows)
-            DEBUG0(&quot;Game has shadows ON&quot;);
-        else
-            DEBUG0(&quot;Game has shadows OFF&quot;);
+    switch (type) {
+        case wol_gameres_type_bool:
+            shadows = (bool) bn_byte_get(*((bn_byte *)data));
+            break;
+        case wol_gameres_type_string:
+            if (std::strcmp(&quot;ON&quot;, (const char *) data) == 0)
+                shadows = true;
+            else if (std::strcmp(&quot;OFF&quot;, (const char *) data) == 0)
+                shadows = false; 
+            else {
+                WARN1(&quot;got unknown string for SHAD: %s&quot;, data);
+                shadows = false;
+            }
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for SHAD&quot;, type);
+            break;
     }
+
+    if (shadows)
+        DEBUG0(&quot;Game has shadows ON&quot;);
     else
-        WARN1(&quot;got unknown gameres type %u for SHAD&quot;, type);
+        DEBUG0(&quot;Game has shadows OFF&quot;);
 
     return 0;
 }
@@ -775,17 +1281,32 @@
 {
     bool captureflag;
 
-    if (type == wol_gameres_type_bool) {
-        captureflag = (bool) bn_byte_get(*((bn_byte *)data));
-        if (captureflag)
-            DEBUG0(&quot;Game has capture the flag ON&quot;);
-        else
-            DEBUG0(&quot;Game has capture the flag OFF&quot;);
+    switch (type) {
+        case wol_gameres_type_bool:
+            captureflag = (bool) bn_byte_get(*((bn_byte *)data));
+            break;
+        case wol_gameres_type_string:
+            if (std::strcmp(&quot;ON&quot;, (const char *) data) == 0)
+                captureflag = true;
+            else if (std::strcmp(&quot;OFF&quot;, (const char *) data) == 0)
+                captureflag = false; 
+            else {
+                WARN1(&quot;got unknown string for FLAG: %s&quot;, data);
+                captureflag = false;
+            }
+            break;
+        default:
+            WARN1(&quot;got unknown gameres type %u for FLAG&quot;, type);
+            break;
     }
+
+    if (captureflag)
+        DEBUG0(&quot;Game has capture the flag ON&quot;);
     else
-        WARN1(&quot;got unknown gameres type %u for FLAG&quot;, type);
+        DEBUG0(&quot;Game has capture the flag OFF&quot;);
 
     return 0;
+
 }
 
 static int _client_tech(wol_gameres_type type, int size, void const * data)
@@ -1454,111 +1975,880 @@
 }
 
 /**/
-static int show_player_reslut(int playernum, int result)
+
+static int show_player_points(int pl1_points, int pl2_points)
 {
-    /* FIXME: This does not work! */
-    DEBUG2(&quot;%u player has %u&quot;, playernum ,result);
-    if (result == 0x100)
-        DEBUG0(&quot;WIN&quot;);
-    if (result == 0x200)
-        DEBUG0(&quot;LOSE&quot;);
-    if (result == 0x300)
-        DEBUG0(&quot;DISCONECT&quot;);
+	int points_win = static_cast&lt;int&gt;(64 * (1 - 1 / (powf(10, static_cast&lt;float&gt;(pl2_points - pl1_points) / 400) + 1)) + 0.5);
+	int points_loss = std::min(64 - points_win, pl1_points / 10);
+
+    DEBUG1(&quot;Winer points %u&quot;, points_win);
+    DEBUG1(&quot;Losser points %u&quot;, points_loss);
+
     return 0;
 }
+
 /**/
 
-static int _client_cmp0(wol_gameres_type type, int size, void const * data)
+static int _cl_cmp_general(int num, wol_gameres_type type, int size, void const * data)
 {
     //CMPx 00 06 00 04 00 00 02 00
-    //0x0100=WIN 0x0200=LOSE (0x0210) 0x0300=DISCONECT
+    //0x0100=WIN 0x0200(0x0210)=LOSE 0x0300=DISCONECT
 
     int result;
 
-    if (type == wol_gameres_type_int) {
-        result = (unsigned int) bn_int_nget(*((bn_int *)data));
-        show_player_reslut(0,result);
+    switch (type) {
+        case wol_gameres_type_int:
+            result = (unsigned int) bn_int_nget(*((bn_int *)data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for CMP%u&quot;, type, num);
+            return 0;
     }
+     
+    result &amp;= 0x0000FF00;
+    result = result &gt;&gt; 8;
+
+    if (result == 1)
+        DEBUG0(&quot;WIN&quot;);
+    else if (result == 2)
+        DEBUG0(&quot;LOSE&quot;);
+    else if (result == 3)
+        DEBUG0(&quot;DISCONECT&quot;);
+    else
+        DEBUG2(&quot;Got wrong %u player result %u&quot;, num , result);
+
     return 0;
 }
 
+static int _client_cmp0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_cmp_general(0, type, size, data);
+}
+
 static int _client_cmp1(wol_gameres_type type, int size, void const * data)
 {
-    int result;
+    return _cl_cmp_general(0, type, size, data);
+}
 
-    if (type == wol_gameres_type_int) {
-        result = (unsigned int) bn_int_nget(*((bn_int *)data));
-        show_player_reslut(1,result);
+static int _client_cmp2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_cmp_general(0, type, size, data);
+}
+
+static int _client_cmp3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_cmp_general(0, type, size, data);
+}
+
+static int _client_cmp4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_cmp_general(0, type, size, data);
+}
+
+static int _client_cmp5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_cmp_general(0, type, size, data);
+}
+
+static int _client_cmp6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_cmp_general(0, type, size, data);
+}
+
+static int _client_cmp7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_cmp_general(0, type, size, data);
+}
+
+static int _cl_col_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_int:
+            DEBUG2(&quot;Player %u color num: %u&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for COL%u&quot;, type, num);
+            break;
     }
     return 0;
 }
 
-static int _client_cmp2(wol_gameres_type type, int size, void const * data)
+static int _client_col0(wol_gameres_type type, int size, void const * data)
 {
-    int result;
+    return _cl_col_general(0, type, size, data);
+}
 
-    if (type == wol_gameres_type_int) {
-        result = (unsigned int) bn_int_nget(*((bn_int *)data));
-        show_player_reslut(2,result);
+static int _client_col1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_col_general(1, type, size, data);
+}
+
+static int _client_col2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_col_general(2, type, size, data);
+}
+
+static int _client_col3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_col_general(3, type, size, data);
+}
+
+static int _client_col4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_col_general(4, type, size, data);
+}
+
+static int _client_col5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_col_general(5, type, size, data);
+}
+
+static int _client_col6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_col_general(6, type, size, data);
+}
+
+static int _client_col7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_col_general(7, type, size, data);
+}
+
+static int _cl_inb_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u build %u infantry&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u build %u infantry&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for INB%u&quot;, type, num);
+            break;
     }
     return 0;
 }
 
-static int _client_cmp3(wol_gameres_type type, int size, void const * data)
+static int _client_inb0(wol_gameres_type type, int size, void const * data)
 {
-    int result;
+    return _cl_inb_general(0, type, size, data);
+}
 
-    if (type == wol_gameres_type_int) {
-        result = (unsigned int) bn_int_nget(*((bn_int *)data));
-        show_player_reslut(3,result);
+static int _client_inb1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inb_general(1, type, size, data);
+}
+
+
+static int _client_inb2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inb_general(2, type, size, data);
+}
+
+
+static int _client_inb3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inb_general(3, type, size, data);
+}
+
+
+static int _client_inb4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inb_general(4, type, size, data);
+}
+
+
+static int _client_inb5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inb_general(5, type, size, data);
+}
+
+
+static int _client_inb6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inb_general(6, type, size, data);
+}
+
+
+static int _client_inb7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inb_general(7, type, size, data);
+}
+
+static int _cl_unb_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u build %u units&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u build %u units&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for UNB%u&quot;, type, num);
+            break;
     }
     return 0;
 }
 
-static int _client_cmp4(wol_gameres_type type, int size, void const * data)
+static int _client_unb0(wol_gameres_type type, int size, void const * data)
 {
-    int result;
+    return _cl_unb_general(0, type, size, data);
+}
 
-    if (type == wol_gameres_type_int) {
-        result = (unsigned int) bn_int_nget(*((bn_int *)data));
-        show_player_reslut(4,result);
+
+static int _client_unb1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unb_general(1, type, size, data);
+}
+
+static int _client_unb2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unb_general(2, type, size, data);
+}
+
+static int _client_unb3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unb_general(3, type, size, data);
+}
+
+static int _client_unb4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unb_general(4, type, size, data);
+}
+
+static int _client_unb5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unb_general(5, type, size, data);
+}
+
+static int _client_unb6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unb_general(6, type, size, data);
+}
+
+static int _client_unb7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unb_general(7, type, size, data);
+}
+
+static int _cl_plb_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u build %u planes&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u build %u planes&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for PLB%u&quot;, type, num);
+            break;
     }
     return 0;
 }
 
-static int _client_cmp5(wol_gameres_type type, int size, void const * data)
+static int _client_plb0(wol_gameres_type type, int size, void const * data)
 {
-    int result;
+    return _cl_plb_general(0, type, size, data);
+}
 
-    if (type == wol_gameres_type_int) {
-        result = (unsigned int) bn_int_nget(*((bn_int *)data));
-        show_player_reslut(5,result);
+static int _client_plb1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plb_general(1, type, size, data);
+}
+
+static int _client_plb2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plb_general(2, type, size, data);
+}
+
+static int _client_plb3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plb_general(3, type, size, data);
+}
+
+static int _client_plb4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plb_general(4, type, size, data);
+}
+
+static int _client_plb5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plb_general(5, type, size, data);
+}
+
+static int _client_plb6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plb_general(6, type, size, data);
+}
+
+static int _client_plb7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plb_general(7, type, size, data);
+}
+
+static int _cl_blb_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u build %u buildings&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u build %u buildings&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for BLB%u&quot;, type, num);
+            break;
     }
     return 0;
 }
 
-static int _client_cmp6(wol_gameres_type type, int size, void const * data)
+static int _client_blb0(wol_gameres_type type, int size, void const * data)
 {
-    int result;
+    return _cl_blb_general(0, type, size, data);
+}
 
-    if (type == wol_gameres_type_int) {
-        result = (unsigned int) bn_int_nget(*((bn_int *)data));
-        show_player_reslut(6,result);
+static int _client_blb1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blb_general(1, type, size, data);
+}
+
+static int _client_blb2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blb_general(2, type, size, data);
+}
+
+static int _client_blb3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blb_general(3, type, size, data);
+}
+
+static int _client_blb4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blb_general(4, type, size, data);
+}
+
+static int _client_blb5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blb_general(5, type, size, data);
+}
+
+static int _client_blb6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blb_general(6, type, size, data);
+}
+
+static int _client_blb7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blb_general(7, type, size, data);
+}
+
+static int _cl_inl_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u lost %u infantry&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u lost %u infantry&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for INL%u&quot;, type, num);
+            break;
     }
     return 0;
 }
 
-static int _client_cmp7(wol_gameres_type type, int size, void const * data)
+static int _client_inl0(wol_gameres_type type, int size, void const * data)
 {
-    int result;
+    return _cl_inl_general(0, type, size, data);
+}
 
-    if (type == wol_gameres_type_int) {
-        result = (unsigned int) bn_int_nget(*((bn_int *)data));
-        show_player_reslut(7,result);
+static int _client_inl1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inl_general(1, type, size, data);
+}
+
+static int _client_inl2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inl_general(2, type, size, data);
+}
+
+static int _client_inl3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inl_general(3, type, size, data);
+}
+
+static int _client_inl4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inl_general(4, type, size, data);
+}
+
+static int _client_inl5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inl_general(5, type, size, data);
+}
+
+static int _client_inl6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inl_general(6, type, size, data);
+}
+
+static int _client_inl7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_inl_general(7, type, size, data);
+}
+
+static int _cl_unl_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u lost %u units&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u lost %u units&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for UNL%u&quot;, type, num);
+            break;
     }
     return 0;
 }
 
+static int _client_unl0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unl_general(0, type, size, data);
 }
 
+static int _client_unl1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unl_general(1, type, size, data);
 }
+
+static int _client_unl2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unl_general(2, type, size, data);
+}
+
+static int _client_unl3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unl_general(3, type, size, data);
+}
+
+static int _client_unl4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unl_general(4, type, size, data);
+}
+
+static int _client_unl5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unl_general(5, type, size, data);
+}
+
+static int _client_unl6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unl_general(6, type, size, data);
+}
+
+static int _client_unl7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unl_general(7, type, size, data);
+}
+
+static int _cl_pll_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u lost %u planes&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u lost %u planes&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for PLL%u&quot;, type, num);
+            break;
+    }
+    return 0;
+}
+
+static int _client_pll0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_pll_general(0, type, size, data);
+}
+
+static int _client_pll1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_pll_general(1, type, size, data);
+}
+
+static int _client_pll2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_pll_general(2, type, size, data);
+}
+
+static int _client_pll3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_pll_general(3, type, size, data);
+}
+
+static int _client_pll4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_pll_general(4, type, size, data);
+}
+
+static int _client_pll5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_pll_general(5, type, size, data);
+}
+
+static int _client_pll6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_pll_general(6, type, size, data);
+}
+
+static int _client_pll7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_pll_general(7, type, size, data);
+}
+
+static int _cl_bll_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u lost %u buildings&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u lost %u buildings&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for BLL%u&quot;, type, num);
+            break;
+    }
+    return 0;
+}
+
+static int _client_bll0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_bll_general(0, type, size, data);
+}
+
+static int _client_bll1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_bll_general(1, type, size, data);
+}
+
+static int _client_bll2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_bll_general(2, type, size, data);
+}
+
+static int _client_bll3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_bll_general(3, type, size, data);
+}
+
+static int _client_bll4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_bll_general(4, type, size, data);
+}
+
+static int _client_bll5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_bll_general(5, type, size, data);
+}
+
+static int _client_bll6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_bll_general(6, type, size, data);
+}
+
+static int _client_bll7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_bll_general(7, type, size, data);
+}
+
+static int _cl_ink_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u killed %u infantry&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u killed %u infantry&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for INK%u&quot;, type, num);
+            break;
+    }
+    return 0;
+}
+
+static int _client_ink0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_ink_general(0, type, size, data);
+}
+
+static int _client_ink1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_ink_general(1, type, size, data);
+}
+
+static int _client_ink2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_ink_general(2, type, size, data);
+}
+
+static int _client_ink3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_ink_general(3, type, size, data);
+}
+
+static int _client_ink4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_ink_general(4, type, size, data);
+}
+
+static int _client_ink5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_ink_general(5, type, size, data);
+}
+
+static int _client_ink6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_ink_general(6, type, size, data);
+}
+
+static int _client_ink7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_ink_general(7, type, size, data);
+}
+
+static int _cl_unk_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u killed %u units&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u killed %u units&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for UNK%u&quot;, type, num);
+            break;
+    }
+    return 0;
+}
+
+static int _client_unk0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unk_general(0, type, size, data);
+}
+
+static int _client_unk1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unk_general(1, type, size, data);
+}
+
+static int _client_unk2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unk_general(2, type, size, data);
+}
+
+static int _client_unk3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unk_general(3, type, size, data);
+}
+
+static int _client_unk4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unk_general(4, type, size, data);
+}
+
+static int _client_unk5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unk_general(5, type, size, data);
+}
+
+static int _client_unk6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unk_general(6, type, size, data);
+}
+
+static int _client_unk7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_unk_general(7, type, size, data);
+}
+
+static int _cl_plk_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u killed %u planes&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u killed %u planes&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for PLK%u&quot;, type, num);
+            break;
+    }
+    return 0;
+}
+
+static int _client_plk0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plk_general(0, type, size, data);
+}
+
+static int _client_plk1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plk_general(1, type, size, data);
+}
+
+static int _client_plk2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plk_general(2, type, size, data);
+}
+
+static int _client_plk3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plk_general(3, type, size, data);
+}
+
+static int _client_plk4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plk_general(4, type, size, data);
+}
+
+static int _client_plk5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plk_general(5, type, size, data);
+}
+
+static int _client_plk6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plk_general(6, type, size, data);
+}
+
+static int _client_plk7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_plk_general(7, type, size, data);
+}
+
+static int _cl_blk_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_time:
+            DEBUG2(&quot;Player %u killed %u buildings&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u killed %u buildings&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for BLK%u&quot;, type, num);
+            break;
+    }
+    return 0;
+}
+
+static int _client_blk0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blk_general(0, type, size, data);
+}
+
+static int _client_blk1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blk_general(1, type, size, data);
+}
+
+static int _client_blk2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blk_general(2, type, size, data);
+}
+
+static int _client_blk3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blk_general(3, type, size, data);
+}
+
+static int _client_blk4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blk_general(4, type, size, data);
+}
+
+static int _client_blk5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blk_general(5, type, size, data);
+}
+
+static int _client_blk6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blk_general(6, type, size, data);
+}
+
+static int _client_blk7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blk_general(7, type, size, data);
+}
+
+static int _cl_blc_general(int num, wol_gameres_type type, int size, void const * data)
+{
+    switch (type) {
+        case wol_gameres_type_int:
+            DEBUG2(&quot;Player %u captured %u buildings&quot;, num, (unsigned int) bn_int_nget(*((bn_int *)data)));
+            break;
+        case wol_gameres_type_bigint:
+            DEBUG2(&quot;Player %u captured %u buildings&quot;, num, wol_gameres_get_long_from_data(size, data));
+            break;
+        default:
+            WARN2(&quot;got unknown gameres type %u for BLC%u&quot;, type, num);
+            break;
+    }
+    return 0;
+}
+
+static int _client_blc0(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blc_general(0, type, size, data);
+}
+
+static int _client_blc1(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blc_general(1, type, size, data);
+}
+
+static int _client_blc2(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blc_general(2, type, size, data);
+}
+
+static int _client_blc3(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blc_general(3, type, size, data);
+}
+
+static int _client_blc4(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blc_general(4, type, size, data);
+}
+
+static int _client_blc5(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blc_general(5, type, size, data);
+}
+
+static int _client_blc6(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blc_general(6, type, size, data);
+}
+
+static int _client_blc7(wol_gameres_type type, int size, void const * data)
+{
+    return _cl_blc_general(7, type, size, data);
+}
+
+
+}
+
+}

Modified: trunk/pvpgn/src/bnetd/handle_wol_gameres.h
===================================================================
--- trunk/pvpgn/src/bnetd/handle_wol_gameres.h	2008-09-15 20:22:54 UTC (rev 497)
+++ trunk/pvpgn/src/bnetd/handle_wol_gameres.h	2008-09-27 19:58:23 UTC (rev 498)
@@ -39,7 +39,8 @@
     wol_gameres_type_bool = 2,
     wol_gameres_type_time = 5,
     wol_gameres_type_int = 6,
-    wol_gameres_type_string = 7
+    wol_gameres_type_string = 7,
+    wol_gameres_type_bigint = 20
 } wol_gameres_type;
 
 extern int handle_wol_gameres_packet(t_connection * c, t_packet const * const packet);

Modified: trunk/pvpgn/src/bnetd/handle_wserv.cpp
===================================================================
--- trunk/pvpgn/src/bnetd/handle_wserv.cpp	2008-09-15 20:22:54 UTC (rev 497)
+++ trunk/pvpgn/src/bnetd/handle_wserv.cpp	2008-09-27 19:58:23 UTC (rev 498)
@@ -162,6 +162,14 @@
     if (!tag_check_in_list(conn_get_clienttag(conn), prefs_get_allowed_clients())) {
         //  This is for anyone game but not for Emperor
         if (conn_get_clienttag(conn) != CLIENTTAG_EMPERORBD_UINT) {
+//        a.xwis.net 4009 RA2
+//        c.xwis.net 4000 TSUN
+//        c.xwis.net 4010 RNGD
+//        a.xwis.net 4010 YURI
+//            snprintf(temp, sizeof(temp), &quot;:a.xwis.net 4009 '0:%s' %s %s %s&quot;, wolname, woltimezone, wollong, wollat);
+//            snprintf(temp, sizeof(temp), &quot;:c.xwis.net 4000 '0:%s' %s %s %s&quot;, wolname, woltimezone, wollong, wollat);
+//            snprintf(temp, sizeof(temp), &quot;:c.xwis.net 4010 '0:%s' %s %s %s&quot;, wolname, woltimezone, wollong, wollat);
+//            snprintf(temp, sizeof(temp), &quot;:a.xwis.net 4010 '0:%s' %s %s %s&quot;, wolname, woltimezone, wollong, wollat);
             snprintf(temp, sizeof(temp), &quot;:%s %d '0:%s' %s %s %s&quot;, wolip, BNETD_WOLV2_PORT, wolname, woltimezone, wollong, wollat);
             irc_send(conn,RPL_WOLSERV,temp);
         }

Modified: trunk/pvpgn/src/common/wol_gameres_protocol.h
===================================================================
--- trunk/pvpgn/src/common/wol_gameres_protocol.h	2008-09-15 20:22:54 UTC (rev 497)
+++ trunk/pvpgn/src/common/wol_gameres_protocol.h	2008-09-27 19:58:23 UTC (rev 498)
@@ -60,11 +60,24 @@
 //	data;
 } PACKED_ATTR() t_client_wolgameres_generic;
 */
+
+/* DATA TYPES */
+const int DATA_TYPE_BYTE   = 1;
+const int DATA_TYPE_BOOL   = 2;
+const int DATA_TYPE_TIME   = 5;
+const int DATA_TYPE_INT    = 6;
+const int DATA_TYPE_STRING = 7;
+const int DATA_TYPE_BIGINT = 20;
+
 /* Game tags */
 
 const t_tag CLIENT_SERN_UINT = 0x53455223;
+const t_tag CLIENT_SDFX_UINT = 0x53444658;
 const t_tag CLIENT_IDNO_UINT = 0x49444E4F;
 const t_tag CLIENT_GSKU_UINT = 0x47534B55;
+const t_tag CLIENT_DCON_UINT = 0x44434F4E;
+const t_tag CLIENT_LCON_UINT = 0x4C434F4E;
+const t_tag CLIENT_TYPE_UINT = 0x54595045;
 const t_tag CLIENT_TRNY_UINT = 0x54524E59;
 const t_tag CLIENT_OOSY_UINT = 0x4F4F5359;
 const t_tag CLIENT_FINI_UINT = 0x46494E49;
@@ -78,6 +91,7 @@
 const t_tag CLIENT_AIPL_UINT = 0x4149504C;
 const t_tag CLIENT_UNIT_UINT = 0x554E4954;
 const t_tag CLIENT_SCEN_UINT = 0x5343454E;
+const t_tag CLIENT_CMPL_UINT = 0x434D504C;
 const t_tag CLIENT_PNGS_UINT = 0x504E4753;
 const t_tag CLIENT_PNGR_UINT = 0x504E4752;
 const t_tag CLIENT_PLRS_UINT = 0x504C5253;
@@ -155,6 +169,132 @@
 const t_tag CLIENT_CMP6_UINT = 0x434D5036;
 const t_tag CLIENT_CMP7_UINT = 0x434D5037;
 
+const t_tag CLIENT_COL0_UINT = 0x434f4c30;
+const t_tag CLIENT_COL1_UINT = 0x434f4c31;
+const t_tag CLIENT_COL2_UINT = 0x434f4c32;
+const t_tag CLIENT_COL3_UINT = 0x434f4c33;
+const t_tag CLIENT_COL4_UINT = 0x434f4c34;
+const t_tag CLIENT_COL5_UINT = 0x434f4c35;
+const t_tag CLIENT_COL6_UINT = 0x434f4c36;
+const t_tag CLIENT_COL7_UINT = 0x434f4c37;
+
+const t_tag CLIENT_INB0_UINT = 0x494e4230;
+const t_tag CLIENT_INB1_UINT = 0x494e4231;
+const t_tag CLIENT_INB2_UINT = 0x494e4232;
+const t_tag CLIENT_INB3_UINT = 0x494e4233;
+const t_tag CLIENT_INB4_UINT = 0x494e4234;
+const t_tag CLIENT_INB5_UINT = 0x494e4235;
+const t_tag CLIENT_INB6_UINT = 0x494e4236;
+const t_tag CLIENT_INB7_UINT = 0x494e4237;
+
+const t_tag CLIENT_UNB0_UINT = 0x554e4230;
+const t_tag CLIENT_UNB1_UINT = 0x554e4231;
+const t_tag CLIENT_UNB2_UINT = 0x554e4232;
+const t_tag CLIENT_UNB3_UINT = 0x554e4233;
+const t_tag CLIENT_UNB4_UINT = 0x554e4234;
+const t_tag CLIENT_UNB5_UINT = 0x554e4235;
+const t_tag CLIENT_UNB6_UINT = 0x554e4236;
+const t_tag CLIENT_UNB7_UINT = 0x554e4237;
+
+const t_tag CLIENT_PLB0_UINT = 0x504c4230;
+const t_tag CLIENT_PLB1_UINT = 0x504c4231;
+const t_tag CLIENT_PLB2_UINT = 0x504c4232;
+const t_tag CLIENT_PLB3_UINT = 0x504c4233;
+const t_tag CLIENT_PLB4_UINT = 0x504c4234;
+const t_tag CLIENT_PLB5_UINT = 0x504c4235;
+const t_tag CLIENT_PLB6_UINT = 0x504c4236;
+const t_tag CLIENT_PLB7_UINT = 0x504c4237;
+
+const t_tag CLIENT_BLB0_UINT = 0x424c4230;
+const t_tag CLIENT_BLB1_UINT = 0x424c4231;
+const t_tag CLIENT_BLB2_UINT = 0x424c4232;
+const t_tag CLIENT_BLB3_UINT = 0x424c4233;
+const t_tag CLIENT_BLB4_UINT = 0x424c4234;
+const t_tag CLIENT_BLB5_UINT = 0x424c4235;
+const t_tag CLIENT_BLB6_UINT = 0x424c4236;
+const t_tag CLIENT_BLB7_UINT = 0x424c4237;
+
+const t_tag CLIENT_INL0_UINT = 0x494e4c30;
+const t_tag CLIENT_INL1_UINT = 0x494e4c31;
+const t_tag CLIENT_INL2_UINT = 0x494e4c32;
+const t_tag CLIENT_INL3_UINT = 0x494e4c33;
+const t_tag CLIENT_INL4_UINT = 0x494e4c34;
+const t_tag CLIENT_INL5_UINT = 0x494e4c35;
+const t_tag CLIENT_INL6_UINT = 0x494e4c36;
+const t_tag CLIENT_INL7_UINT = 0x494e4c37;
+
+const t_tag CLIENT_UNL0_UINT = 0x554e4c30;
+const t_tag CLIENT_UNL1_UINT = 0x554e4c31;
+const t_tag CLIENT_UNL2_UINT = 0x554e4c32;
+const t_tag CLIENT_UNL3_UINT = 0x554e4c33;
+const t_tag CLIENT_UNL4_UINT = 0x554e4c34;
+const t_tag CLIENT_UNL5_UINT = 0x554e4c35;
+const t_tag CLIENT_UNL6_UINT = 0x554e4c36;
+const t_tag CLIENT_UNL7_UINT = 0x554e4c37;
+
+const t_tag CLIENT_PLL0_UINT = 0x504c4c30;
+const t_tag CLIENT_PLL1_UINT = 0x504c4c31;
+const t_tag CLIENT_PLL2_UINT = 0x504c4c32;
+const t_tag CLIENT_PLL3_UINT = 0x504c4c33;
+const t_tag CLIENT_PLL4_UINT = 0x504c4c34;
+const t_tag CLIENT_PLL5_UINT = 0x504c4c35;
+const t_tag CLIENT_PLL6_UINT = 0x504c4c36;
+const t_tag CLIENT_PLL7_UINT = 0x504c4c37;
+
+const t_tag CLIENT_BLL0_UINT = 0x424c4c30;
+const t_tag CLIENT_BLL1_UINT = 0x424c4c31;
+const t_tag CLIENT_BLL2_UINT = 0x424c4c32;
+const t_tag CLIENT_BLL3_UINT = 0x424c4c33;
+const t_tag CLIENT_BLL4_UINT = 0x424c4c34;
+const t_tag CLIENT_BLL5_UINT = 0x424c4c35;
+const t_tag CLIENT_BLL6_UINT = 0x424c4c36;
+const t_tag CLIENT_BLL7_UINT = 0x424c4c37;
+
+const t_tag CLIENT_INK0_UINT = 0x494e4b30;
+const t_tag CLIENT_INK1_UINT = 0x494e4b31;
+const t_tag CLIENT_INK2_UINT = 0x494e4b32;
+const t_tag CLIENT_INK3_UINT = 0x494e4b33;
+const t_tag CLIENT_INK4_UINT = 0x494e4b34;
+const t_tag CLIENT_INK5_UINT = 0x494e4b35;
+const t_tag CLIENT_INK6_UINT = 0x494e4b36;
+const t_tag CLIENT_INK7_UINT = 0x494e4b37;
+
+const t_tag CLIENT_UNK0_UINT = 0x554e4b30;
+const t_tag CLIENT_UNK1_UINT = 0x554e4b31;
+const t_tag CLIENT_UNK2_UINT = 0x554e4b32;
+const t_tag CLIENT_UNK3_UINT = 0x554e4b33;
+const t_tag CLIENT_UNK4_UINT = 0x554e4b34;
+const t_tag CLIENT_UNK5_UINT = 0x554e4b35;
+const t_tag CLIENT_UNK6_UINT = 0x554e4b36;
+const t_tag CLIENT_UNK7_UINT = 0x554e4b37;
+
+const t_tag CLIENT_PLK0_UINT = 0x504c4b30;
+const t_tag CLIENT_PLK1_UINT = 0x504c4b31;
+const t_tag CLIENT_PLK2_UINT = 0x504c4b32;
+const t_tag CLIENT_PLK3_UINT = 0x504c4b33;
+const t_tag CLIENT_PLK4_UINT = 0x504c4b34;
+const t_tag CLIENT_PLK5_UINT = 0x504c4b35;
+const t_tag CLIENT_PLK6_UINT = 0x504c4b36;
+const t_tag CLIENT_PLK7_UINT = 0x504c4b37;
+
+const t_tag CLIENT_BLK0_UINT = 0x424c4b30;
+const t_tag CLIENT_BLK1_UINT = 0x424c4b31;
+const t_tag CLIENT_BLK2_UINT = 0x424c4b32;
+const t_tag CLIENT_BLK3_UINT = 0x424c4b33;
+const t_tag CLIENT_BLK4_UINT = 0x424c4b34;
+const t_tag CLIENT_BLK5_UINT = 0x424c4b35;
+const t_tag CLIENT_BLK6_UINT = 0x424c4b36;
+const t_tag CLIENT_BLK7_UINT = 0x424c4b37;
+
+const t_tag CLIENT_BLC0_UINT = 0x424c4330;
+const t_tag CLIENT_BLC1_UINT = 0x424c4331;
+const t_tag CLIENT_BLC2_UINT = 0x424c4332;
+const t_tag CLIENT_BLC3_UINT = 0x424c4333;
+const t_tag CLIENT_BLC4_UINT = 0x424c4334;
+const t_tag CLIENT_BLC5_UINT = 0x424c4335;
+const t_tag CLIENT_BLC6_UINT = 0x424c4336;
+const t_tag CLIENT_BLC7_UINT = 0x424c4337;
+
 }
 
 #endif  /* INCLUDED_WOL_GAMERES_PROTOCOL_TYPES */


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000801.html">[pvpgn-dev] [Bug #14542] CMake doesn't include sql_DBlayout2.conf
</A></li>
	<LI>Next message: <A HREF="000803.html">[pvpgn-dev] [Bug #14571] New clan with no chieftain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#802">[ date ]</a>
              <a href="thread.html#802">[ thread ]</a>
              <a href="subject.html#802">[ subject ]</a>
              <a href="author.html#802">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pvpgn-dev">More information about the pvpgn-dev
mailing list</a><br>
</body></html>
